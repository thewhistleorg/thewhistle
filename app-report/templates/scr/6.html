<!doctype html>
<html lang="en">
<head>
    <title>The Whistle Eyewitness Report</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css">
    <link rel="stylesheet" href="/css/base.css">
    <link rel="stylesheet" href="/css/scr.css">
    <style>
        .note { color: #999999; font-size: 90%; }
        label { min-width: 12em; }
        input + label { min-width: auto; }
    </style>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            if (document.querySelector('#abducted-y').defaultChecked) {
                document.querySelector('#abducted-ul').classList.remove('hide');
            }
            document.querySelectorAll('input[name=abducted]').forEach(i => i.onchange = function() {
                if (this.value == 'y') {
                    document.querySelector('#abducted-ul').classList.remove('hide');
                } else {
                    document.querySelector('#abducted-ul').classList.add('hide');
                }
            });
        });
    </script>
    <script defer src="/js/report.js"></script>
</head>
<body>

<main>

<table class="progress"><tr><td>TBC</td></tr></table>

<h1>Survivor-centred response form</h1>
<h2>Abduction</h2>

<form method="post">
    <ul>
        {{#checked abducted}}
        <li>
            <label>Was the survivor abducted as at the time of the incident?</label>
            <input type="radio" name="abducted" id="abducted-n" value="n" autofocus> <label for="abducted-n">No</label>
            <input type="radio" name="abducted" id="abducted-y" value="y"> <label for="abducted-y">Yes</label>
        </li>
        {{/checked}}
    </ul>
    <ul id="abducted-ul" class="hide">
        {{#checked abducted-type}}
        <li>
            <input type="radio" name="abducted-type" id="abducted-type-conscription" value="conscription"> <label for="abducted-type-conscription">Forced conscription</label>
        </li>
        <li>
            <input type="radio" name="abducted-type" id="abducted-type-trafficked" value="trafficked"> <label for="abducted-type-trafficked">Trafficked</label>
        </li>
        <li>
            <input type="radio" name="abducted-type" id="abducted-type-other" value="other"> <label for="abducted-type-other">Other abduction / kidnapping</label>
        </li>
        {{/checked}}
    </ul>
    <ul>
        <li class="nav">
            <button type="submit" name="nav-prev" value="prev" class="nav prev">⇐ Previous</button>
            <button type="submit" name="nav-next" value="next" class="nav next">Next ⇒</button>
        </li>
    </ul>
</form>

</main>

</body>
</html>
